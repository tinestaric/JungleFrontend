var gdjs;(function(s){class p{constructor(e,i){this._object=e,PIXI.tilemap.settings.use32bitIndex=!0,this._pixiObject=new PIXI.tilemap.CompositeTilemap,this._pixiObject.tileAnim=[0,0],i.getLayer("").getRenderer().addRendererObject(this._pixiObject,e.getZOrder()),this.updateAngle(),this.updateOpacity(),this.updatePosition()}getRendererObject(){return this._pixiObject}incrementAnimationFrameX(e){this._pixiObject.tileAnim[0]+=1}updatePosition(){this._pixiObject.pivot.x=this._object.getTileMapWidth()/2,this._pixiObject.pivot.y=this._object.getTileMapHeight()/2,this._pixiObject.position.x=this._object.x+this.getWidth()/2,this._pixiObject.position.y=this._object.y+this.getHeight()/2}updateAngle(){this._pixiObject.rotation=s.toRad(this._object.angle)}updateOpacity(){const e=this._object._opacity/255;if(this._pixiObject.alpha===e)return;this._pixiObject.alpha=e;const i=this._object.getTileMap();if(!!i){for(const t of i.getLayers())this._object._displayMode==="index"&&this._object._layerIndex!==t.id||this._object._displayMode==="visible"&&!t.isVisible()||t instanceof TileMapHelper.EditableTileMapLayer&&t.setAlpha(this._pixiObject.alpha);this._object.updateTileMap()}}setWidth(e){this._pixiObject.scale.x=e/this._object.getTileMapWidth(),this._pixiObject.position.x=this._object.x+e/2}setHeight(e){this._pixiObject.scale.y=e/this._object.getTileMapHeight(),this._pixiObject.position.y=this._object.y+e/2}setScaleX(e){this._pixiObject.scale.x=e;const i=e*this._object.getTileMapWidth();this._pixiObject.position.x=this._object.x+i/2}setScaleY(e){this._pixiObject.scale.y=e;const i=e*this._object.getTileMapHeight();this._pixiObject.position.y=this._object.y+i/2}getWidth(){return this._object.getTileMapWidth()*this._pixiObject.scale.x}getHeight(){return this._object.getTileMapHeight()*this._pixiObject.scale.y}getScaleX(){return this._pixiObject.scale.x}getScaleY(){return this._pixiObject.scale.y}refreshPixiTileMap(e){const i=this._object.getTileMap();!i||TileMapHelper.PixiTileMapHelper.updatePixiTileMap(this._pixiObject,i,e,this._object._displayMode,this._object._layerIndex)}destroy(){this._pixiObject.destroy(!1)}}s.TileMapRuntimeObjectPixiRenderer=p,s.TileMapRuntimeObjectRenderer=s.TileMapRuntimeObjectPixiRenderer})(gdjs||(gdjs={}));
//# sourceMappingURL=tilemapruntimeobject-pixi-renderer.js.map
